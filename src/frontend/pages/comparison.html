<!-- Comparison Page -->
<div id="comparison-page" class="page comparison-page">
    <div class="page-header">
        <h1>Comparaison de Fichiers</h1>
        <p>Analysez et comparez vos fichiers Excel pour identifier les diff√©rences</p>
    </div>

    <div id="comparison-container">
        <div class="info-box">
            <h3>Pr√™t √† analyser</h3>
            <p>Les fichiers ont √©t√© t√©l√©charg√©s et configur√©s. Vous pouvez maintenant lancer la comparaison.</p>
            <button class="btn primary-btn" id="start-comparison-btn">
                üîç Lancer la Comparaison
            </button>
        </div>

        <div id="comparison-progress" class="progress-section" style="display: none;">
            <div class="card">
                <div class="card-header">Progression de l'analyse</div>
                <div class="card-body">
                    <div class="progress">
                        <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
                    </div>
                    <p id="progress-text">Initialisation...</p>
                </div>
            </div>
        </div>

        <div id="comparison-results" class="results-section" style="display: none;">
            <div class="metrics-container">
                <div class="metric-card">
                    <div class="metric-value" id="total-sheets">0</div>
                    <div class="metric-label">Feuilles compar√©es</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="total-differences">0</div>
                    <div class="metric-label">Diff√©rences trouv√©es</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="total-duplicates">0</div>
                    <div class="metric-label">Duplicatas trouv√©s</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="total-cells">0</div>
                    <div class="metric-label">Cellules analys√©es</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="execution-time">0s</div>
                    <div class="metric-label">Temps d'ex√©cution</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="match-rate">0%</div>
                    <div class="metric-label">Taux de correspondance</div>
                </div>
            </div>

            <div class="results-navigation">
                <div class="card">
                    <div class="card-header">Navigation dans les r√©sultats</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-6">
                                <div class="sheet-selector">
                                    <label for="sheet-select">S√©lectionner une feuille :</label>
                                    <select id="sheet-select" class="form-control">
                                        <option value="">Choisir une feuille...</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="file-selector" id="file-selector" style="display:none">
                                    <label for="file-select">Fichier de comparaison :</label>
                                    <select id="file-select" class="form-control">
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Summary Table -->
            <div id="summary-section" class="summary-section" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h4>üìä R√©sum√© d√©taill√© de la comparaison</h4>
                    </div>
                    <div class="card-body">
                        <div id="summary-content">
                            <p>Aucune donn√©e disponible</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Differences Section -->
            <div class="differences-section" id="differences-section">
                <div class="card">
                    <div class="card-header">
                        <h4 id="differences-title">üîç Diff√©rences d√©tect√©es</h4>
                    </div>
                    <div class="card-body">
                        <div class="filters-section-comparison">
                            <div id="filters-container-comparison" class="filters-container-comparison"></div>
                            <div id="filter-info-comparison" class="filter-info-comparison"></div>
                        </div>
                        <div id="differences-pagination" class="pagination-controls"></div>
                        <div id="differences-content">
                            <p class="no-data">S√©lectionnez une feuille pour voir les diff√©rences</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Duplicates Section -->
            <div class="duplicates-section" id="duplicates-section">
                <div class="card">
                    <div class="card-header">
                        <h4 id="duplicates-title">üìã Doublons identifi√©s</h4>
                    </div>
                    <div class="card-body">
                        <div id="duplicates-pagination" class="pagination-controls"></div>
                        <div id="duplicates-content">
                            <p class="no-data">S√©lectionnez une feuille pour voir les doublons</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="actions-section" id="comparison-actions">
                <div class="card">
                    <div class="card-header">Actions disponibles</div>
                    <div class="card-body">
                        <div class="action-buttons">
                            <button class="btn primary-btn" onclick="app.navigateToPage('reports')">
                                üìä Voir les Rapports
                            </button>
                            <button class="btn secondary-btn" id="save-report">
                                üíæ Sauvegarder le rapport
                            </button>
                            <button class="btn secondary-btn" id="new-comparison">
                                üîÑ Nouvelle Comparaison
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
